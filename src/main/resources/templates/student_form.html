<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Student Core | [[${student.id == null ? 'New Student' : 'Edit Student'}]]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --orange-primary: #ff8c00;
            --dark-bg: #0a0a0a;
            --card-bg: #111111;
            --input-bg: #1a1a1a;
        }
        body { background-color: var(--dark-bg); color: #efefef; font-family: 'Inter', sans-serif; }
        
        /* Navbar */
        .navbar { background-color: #000; border-bottom: 1px solid #222; padding: 0.2rem 0; }
        .brand-text { font-size: 1.4rem; font-weight: 900; color: #fff; text-transform: uppercase; text-decoration: none; }
        .brand-orange { color: var(--orange-primary); }
        .nav-link { color: #888 !important; font-size: 0.95rem; padding: 1.2rem 1rem !important; font-weight: 500; border-bottom: 2px solid transparent; }
        .nav-link.active { color: var(--orange-primary) !important; border-bottom-color: var(--orange-primary); }

        /* Sleek Form Card */
        .form-card {
            background: var(--card-bg);
            border: 1px solid #222;
            border-radius: 12px;
            padding: 40px;
            max-width: 700px;
            margin: 50px auto;
        }
        .form-label { color: var(--orange-primary); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }
        .form-control, .form-select {
            background-color: var(--input-bg);
            border: 1px solid #333;
            color: #fff;
            padding: 12px;
            border-radius: 6px;
        }
        .form-control:focus, .form-select:focus {
            background-color: #222;
            border-color: var(--orange-primary);
            color: #fff;
            box-shadow: none;
        }

        .btn-save {
            background-color: var(--orange-primary);
            color: #000;
            font-weight: 800;
            padding: 12px;
            border-radius: 6px;
            border: none;
            transition: 0.3s;
        }
        .btn-save:hover { background-color: #fff; color: #000; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand brand-text me-5" th:href="@{/students/}">
                STUDENT<span class="brand-orange">CORE</span>
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" th:href="@{/students/}">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link active" th:href="@{/students/manage}">Admin Activity</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="form-card shadow-lg">
            <h2 class="mb-4" th:text="${student.id == null ? 'Register New Student' : 'Update Student Record'}"></h2>
            
            <form th:action="@{/students/save}" th:object="${student}" method="post">
                <input type="hidden" th:field="*{id}">

                <div class="row g-3">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">First Name</label>
                        <input type="text" th:field="*{firstName}" class="form-control" placeholder="Enter first name" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Last Name</label>
                        <input type="text" th:field="*{lastName}" class="form-control" placeholder="Enter last name" required>
                    </div>
                </div>

                <div class="row g-3">
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Class / Standard</label>
                        <select th:field="*{standard}" class="form-select">
                            <option value="LKG">LKG</option>
                            <option value="UKG">UKG</option>
                            <option th:each="i : ${#numbers.sequence(1, 12)}" th:value="${i}" th:text="${i}"></option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Gender</label>
                        <select th:field="*{gender}" class="form-select">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="form-label">Contact</label>
                        <input type="text" th:field="*{contactNumber}" class="form-control" placeholder="Phone number">
                    </div>
                </div>

                <div class="mb-4 mt-2">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" th:field="*{active}" id="activeSwitch">
                        <label class="form-check-label ms-2" for="activeSwitch" style="color: #888;">Set as Active Student</label>
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn-save">CONFIRM & SAVE</button>
                    <a th:href="@{/students/manage}" class="text-center text-muted mt-2" style="text-decoration: none; font-size: 0.8rem;">Discard Changes</a>
                </div>
            </form>
        </div>
    </div>
</body>
</html>