<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Student Core | Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --orange-primary: #ff8c00;
            --dark-bg: #0a0a0a;
            --card-bg: #111111;
        }
        body { background-color: var(--dark-bg); color: #efefef; font-family: 'Inter', sans-serif; }
        
        /* Navbar matching index.html */
        .navbar { background-color: #000; border-bottom: 1px solid #222; padding: 0.2rem 0; }
        .brand-text { font-size: 1.4rem; font-weight: 900; color: #fff; text-transform: uppercase; text-decoration: none; }
        .brand-orange { color: var(--orange-primary); }
        .nav-link { color: #888 !important; font-size: 0.95rem; padding: 1.2rem 1rem !important; font-weight: 500; border-bottom: 2px solid transparent; }
        .nav-link.active { color: var(--orange-primary) !important; border-bottom-color: var(--orange-primary); }

        /* Management Header */
        .admin-header {
            background: var(--card-bg);
            border: 1px solid #222;
            border-radius: 10px;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn-add {
            background-color: var(--orange-primary);
            color: #000;
            font-weight: 800;
            padding: 10px 25px;
            border-radius: 6px;
            border: none;
            font-size: 0.85rem;
            text-decoration: none;
            transition: 0.3s;
        }
        .btn-add:hover { background-color: #fff; color: #000; }

        /* Table Styles from index.html */
        .table-card { border: 1px solid #222; border-radius: 8px; background: var(--card-bg); overflow: hidden; }
        .table thead th { background-color: #000; color: var(--orange-primary); font-size: 0.75rem; text-transform: uppercase; padding: 15px; border-bottom: 1px solid #222; }
        .table tbody td { padding: 15px; border-bottom: 1px solid #222; color: #bbb; vertical-align: middle; }
        
        .action-btn { color: #888; transition: 0.3s; font-size: 1.1rem; text-decoration: none; }
        .action-btn:hover { color: var(--orange-primary); }
        .delete-btn:hover { color: #e74c3c; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand brand-text me-5" th:href="@{/students/}">
                STUDENT<span class="brand-orange">CORE</span>
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" th:href="@{/students/}">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link active" th:href="@{/students/manage}">Admin Activity</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Fee</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="admin-header mb-4 shadow-sm">
            <div>
                <h4 class="mb-1">Student Management</h4>
                <p class="text-muted mb-0" style="font-size: 0.8rem;">Create, update, or remove student records from the database.</p>
            </div>
            <a th:href="@{/students/new}" class="btn-add">ADD NEW STUDENT</a>
        </div>

        <div class="table-card">
            <table class="table table-dark mb-0">
                <thead>
                    <tr>
                        <th class="ps-4">ID</th>
                        <th>Student Name</th>
                        <th>Class</th>
                        <th>Gender</th>
                        <th>Status</th>
                        <th class="text-end pe-4">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="student : ${listStudents}">
                        <td class="ps-4" th:text="${student.id}"></td>
                        <td>
                            <strong class="text-white" th:text="${student.firstName + ' ' + student.lastName}"></strong>
                        </td>
                        <td th:text="${student.standard}"></td>
                        <td th:text="${student.gender}"></td>
                        <td>
                             <span th:text="${student.active ? 'Active' : 'Inactive'}" 
                                   th:style="${student.active ? 'color: #2ecc71' : 'color: #e74c3c'}"></span>
                        </td>
                        <td class="text-end pe-4">
                            <a th:href="@{/students/edit/{id}(id=${student.id})}" class="action-btn me-3" title="Edit">
                                <i class="bi bi-pencil-square"></i>
                            </a>
                            <a th:href="@{/students/delete/{id}(id=${student.id})}" class="action-btn delete-btn" 
                               title="Delete" onclick="return confirm('Permanently delete this student?')">
                                <i class="bi bi-trash"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>